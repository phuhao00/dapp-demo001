# MetaMask 添加 STK 代币详细指南

## 代币信息
- **代币名称**: SimpleToken
- **代币符号**: STK
- **合约地址**: `0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0`
- **小数位数**: 18
- **网络**: Hardhat 本地网络 (Chain ID: 31337)

## 步骤一：配置 Hardhat 本地网络

### 1. 打开 MetaMask
- 点击浏览器右上角的 MetaMask 图标
- 如果没有安装，请先从 [MetaMask官网](https://metamask.io/) 下载安装

### 2. 添加 Hardhat 网络
1. 点击 MetaMask 顶部的网络下拉菜单
2. 选择「添加网络」或「Add Network」
3. 点击「手动添加网络」
4. 填入以下信息：
   - **网络名称**: Hardhat Local
   - **新的 RPC URL**: `http://127.0.0.1:8545`
   - **链 ID**: `31337`
   - **货币符号**: ETH
   - **区块浏览器 URL**: (留空)
5. 点击「保存」

### 3. 切换到 Hardhat 网络
- 在网络下拉菜单中选择刚添加的「Hardhat Local」网络

## 步骤二：导入测试账户

### 可用的测试账户（选择一个导入）：

**账户 #0 (推荐)**
- 地址: `0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266`
- 私钥: `0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80`

**账户 #1**
- 地址: `0x70997970C51812dc3A010C7d01b50e0d17dc79C8`
- 私钥: `0x59c6995e998f97a5a0044966f0945389dc9e86dae88c7a8412f4603b6b78690d`

### 导入步骤：
1. 点击 MetaMask 右上角的账户图标
2. 选择「导入账户」
3. 选择「私钥」
4. 粘贴上面的私钥（推荐使用账户 #0）
5. 点击「导入」

## 步骤三：添加 STK 代币

### 方法一：手动添加（推荐）
1. 在 MetaMask 主界面，向下滚动到「代币」部分
2. 点击「导入代币」或「Import tokens」
3. 选择「自定义代币」标签
4. 填入以下信息：
   - **代币合约地址**: `0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0`
   - **代币符号**: STK（会自动填入）
   - **精度**: 18（会自动填入）
5. 点击「添加自定义代币」
6. 确认添加

### 方法二：使用前端一键添加功能
1. 打开 DApp 页面：http://localhost:5173/
2. 连接 MetaMask 钱包
3. 点击「添加 STK 到 MetaMask」按钮
4. 在 MetaMask 弹窗中确认添加

## 步骤四：验证设置

### 检查代币余额
1. 在 MetaMask 中应该能看到 STK 代币
2. 如果余额为 0，说明需要先获取一些代币
3. 可以使用 DApp 的铸币功能获取测试代币

### 测试转账功能
1. 在 DApp 的转账页面
2. 输入接收地址和转账数量
3. 点击「转账」按钮
4. 在 MetaMask 中确认交易
5. 等待交易确认

## 常见问题解决

### Q: MetaMask 中看不到代币余额
**A**: 
1. 确认已切换到 Hardhat Local 网络
2. 确认代币合约地址正确
3. 尝试刷新页面或重启 MetaMask
4. 检查 Hardhat 节点是否正在运行

### Q: 交易失败或一直等待确认
**A**: 
1. 确认 Hardhat 节点正在运行（`npx hardhat node`）
2. 检查网络配置是否正确
3. 尝试重置 MetaMask 账户（设置 > 高级 > 重置账户）

### Q: 无法连接到本地网络
**A**: 
1. 确认 RPC URL 为 `http://127.0.0.1:8545`
2. 确认链 ID 为 `31337`
3. 检查防火墙设置
4. 尝试使用 `http://localhost:8545` 作为 RPC URL

### Q: 私钥导入失败
**A**: 
1. 确认私钥格式正确（以 0x 开头）
2. 确认私钥长度为 66 个字符
3. 尝试删除并重新添加网络

## 安全提醒

⚠️ **重要**: 这些私钥仅用于本地开发测试，切勿在主网或测试网中使用！

⚠️ **注意**: 本地开发环境的数据在重启 Hardhat 节点后会重置。

## 技术支持

如果遇到问题，请检查：
1. Hardhat 节点是否正在运行
2. 前端开发服务器是否正在运行
3. MetaMask 网络配置是否正确
4. 浏览器控制台是否有错误信息

---

**祝您使用愉快！** 🎉